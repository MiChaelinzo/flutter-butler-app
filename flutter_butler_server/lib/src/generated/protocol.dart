// This file was initially auto-generated by Serverpod and then customized.
// Run `serverpod generate` to regenerate after modifying model definitions.

import 'package:serverpod/serverpod.dart';

import '../models/task_model.dart';
import '../models/butler_response_model.dart';
import '../models/daily_briefing_model.dart';
import '../models/automation_model.dart';

export '../models/task_model.dart';
export '../models/butler_response_model.dart';
export '../models/daily_briefing_model.dart';
export '../models/automation_model.dart';

class Protocol extends SerializationManagerServer {
  static final Protocol _instance = Protocol._();

  Protocol._();

  factory Protocol() => _instance;

  @override
  T deserialize<T>(dynamic data, [Type? t]) {
    t ??= T;
    if (t == Task) {
      return Task.fromJson(data as Map<String, dynamic>) as T;
    }
    if (t == ButlerResponse) {
      return ButlerResponse.fromJson(data as Map<String, dynamic>) as T;
    }
    if (t == DailyBriefing) {
      return DailyBriefing.fromJson(data as Map<String, dynamic>) as T;
    }
    if (t == Automation) {
      return Automation.fromJson(data as Map<String, dynamic>) as T;
    }
    return super.deserialize<T>(data, t);
  }

  @override
  String? getClassNameForObject(Object data) {
    if (data is Task) return 'Task';
    if (data is ButlerResponse) return 'ButlerResponse';
    if (data is DailyBriefing) return 'DailyBriefing';
    if (data is Automation) return 'Automation';
    return super.getClassNameForObject(data);
  }

  @override
  dynamic deserializeByClassName(Map<String, dynamic> data) {
    if (data['className'] == 'Task') {
      return deserialize<Task>(data['data']);
    }
    if (data['className'] == 'ButlerResponse') {
      return deserialize<ButlerResponse>(data['data']);
    }
    if (data['className'] == 'DailyBriefing') {
      return deserialize<DailyBriefing>(data['data']);
    }
    if (data['className'] == 'Automation') {
      return deserialize<Automation>(data['data']);
    }
    return super.deserializeByClassName(data);
  }
}
